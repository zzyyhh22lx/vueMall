秒杀系统：

1. 单机器，分布式（不搞）
2. 秒杀url设计，接口url加密实现动态化，防止通过下单页面url直接访问后台接口来秒杀货品（没做）
> md5加密一串随机字符作为秒杀的url，然后前端访问后台获取具体的url，后台校验通过之后才可以继续秒杀。
3. ip限流，过滤，每次只支持xxx个用户同时秒杀（读写数据）这里通过做一层内存服务来实现，以用户host为key，value为当前的请求数，当请求数大于某个值的时候，拒绝请求。
4. 内存缓存，redis缓存，扣减库存，活动开始时同步数据源，活动预热
> redis中间层，活动开始时去数据库拉取最新数据，定时器定时去数据库同步数据。数据库磁盘缓存读写较慢，无法适应高并发的场景，所以采用redis作为中间层，将数据缓存在redis中。
5. 异步下单，消息队列，异步下单，异步处理订单，异步处理库存。
> 入库没有问题通知用户秒杀成功。假如失败的话,可以采用补偿机制，重试。（本期没做重试）

前端：防抖节流+控制请求
后端：redis中间层，异步入库，往数据库更新数据

架构考虑：node异步单线程架构（可以用多进程实现多线程，分布式本期也不搞，简单demo）
即无需考虑多线程带来的数据一致性问题，也不用考虑分布式事务问题。
异步架构使得可以将数据库磁盘的读问题转移到redis中，使得数据库可以专注于写，读写分离。即活动开始前redis中间层同步数据，高并发场景下从redis中读取数据，写入时由消息队列即异步写入数据库